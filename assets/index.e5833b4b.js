var he=Object.defineProperty,_e=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var le=(t,e,n)=>e in t?he(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q=(t,e)=>{for(var n in e||(e={}))we.call(e,n)&&le(t,n,e[n]);if(ie)for(var n of ie(e))be.call(e,n)&&le(t,n,e[n]);return t},V=(t,e)=>_e(t,ve(e));import{S as T,i as U,s as F,e as g,t as ye,a as m,b as oe,c as A,d as c,l as O,f as Z,p as x,n as j,g as B,r as $,h as ue,j as w,k as q,m as X,o as z,q as ee,u as E,v as P,w as W,x as ae,y as ce,z as fe,A as ke,B as G,C as te,D as Le,E as qe,F as K,G as ne}from"./vendor.16208240.js";const Ee=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}};Ee();function Ce(t){let e,n,r,l,i;return{c(){e=g("label"),n=ye(`Drag-and-drop an image here, or click to select one from your computer
  `),r=g("input"),m(r,"type","file"),oe(r,"display","none"),m(e,"class","dropzone svelte-1ub72ah")},m(s,f){A(s,e,f),c(e,n),c(e,r),l||(i=[O(r,"input",t[4]),O(e,"dragenter",Z(x(t[2]))),O(e,"dragover",Z(x(t[3]))),O(e,"drop",Z(x(t[5])))],l=!0)},p:j,i:j,o:j,d(s){s&&B(e),l=!1,$(i)}}}function De(t,e,n){let{src:r}=e;function l(a){if(r){const o=r;n(1,r=null),URL.revokeObjectURL(o)}n(1,r=URL.createObjectURL(a))}function i(a){ue.call(this,t,a)}function s(a){ue.call(this,t,a)}const f=a=>l(a.target.files[0]),u=a=>l(a.dataTransfer.files[0]);return t.$$set=a=>{"src"in a&&n(1,r=a.src)},[l,r,i,s,f,u]}class Ie extends T{constructor(e){super();U(this,e,De,Ce,F,{src:1})}}function Se(t){return t.type=="touchstart"||t.type=="touchmove"||t.type=="touchend"}function C(t,e){let n={};typeof e=="function"?n={onDrag:e}:typeof e=="object"&&(n=e);let r=null;function l(o){return Se(o)?{x:o.touches[0].clientX,y:o.touches[0].clientX}:{x:o.clientX,y:o.clientY}}function i(o){const d=t.getBoundingClientRect();return{x:o.x-d.x,y:o.y-d.y}}function s(o){return{dx:o.x-r.x,dy:o.y-r.y}}function f(o){o.preventDefault(),o.stopPropagation(),r=l(o),n.onStart&&n.onStart(i(r)),window.addEventListener("mousemove",u),window.addEventListener("touchmove",u),window.addEventListener("mouseup",a),window.addEventListener("touchend",a)}function u(o){o.preventDefault(),o.stopPropagation();const d=l(o),_=s(d);r=d,n.onDrag&&n.onDrag(_)}function a(o){o.preventDefault(),o.stopPropagation(),window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",a),window.removeEventListener("touchend",a)}return t.addEventListener("touchstart",f),t.addEventListener("mousedown",f),{destroy(){t.removeEventListener("touchstart",f),t.removeEventListener("mousedown",f)}}}function Pe(t){let e,n,r,l,i,s,f,u,a,o,d,_,p,v,L,b,M,y,R,I,N;return{c(){e=g("div"),n=g("div"),r=w(),l=g("div"),i=w(),s=g("div"),f=w(),u=g("div"),a=w(),o=g("div"),d=w(),_=g("div"),p=w(),v=g("div"),L=w(),b=g("div"),M=w(),y=g("div"),m(n,"class","area svelte-18kwcfp"),m(l,"class","tl svelte-18kwcfp"),m(s,"class","t svelte-18kwcfp"),m(u,"class","tr svelte-18kwcfp"),m(o,"class","r svelte-18kwcfp"),m(_,"class","br svelte-18kwcfp"),m(v,"class","b svelte-18kwcfp"),m(b,"class","bl svelte-18kwcfp"),m(y,"class","l svelte-18kwcfp"),m(e,"class","crop-area svelte-18kwcfp"),m(e,"style",R=`left:${t[0].x}px; top:${t[0].y}px; width:${t[0].w}px; height:${t[0].h}px;`)},m(k,S){A(k,e,S),c(e,n),c(e,r),c(e,l),c(e,i),c(e,s),c(e,f),c(e,u),c(e,a),c(e,o),c(e,d),c(e,_),c(e,p),c(e,v),c(e,L),c(e,b),c(e,M),c(e,y),I||(N=[q(C.call(null,n,t[5](t[1],t[2],t[3],t[4]))),q(C.call(null,l,t[5](t[2],t[1]))),q(C.call(null,s,t[2])),q(C.call(null,u,t[5](t[2],t[3]))),q(C.call(null,o,t[3])),q(C.call(null,_,t[5](t[4],t[3]))),q(C.call(null,v,t[4])),q(C.call(null,b,t[5](t[4],t[1]))),q(C.call(null,y,t[1]))],I=!0)},p(k,[S]){S&1&&R!==(R=`left:${k[0].x}px; top:${k[0].y}px; width:${k[0].w}px; height:${k[0].h}px;`)&&m(e,"style",R)},i:j,o:j,d(k){k&&B(e),I=!1,$(N)}}}function Re(t,e,n){let{bounds:r}=e;function l(a){n(0,r.x+=a.dx,r),n(0,r.w-=a.dx,r)}function i(a){n(0,r.y+=a.dy,r),n(0,r.h-=a.dy,r)}function s(a){n(0,r.w+=a.dx,r)}function f(a){n(0,r.h+=a.dy,r)}const u=(...a)=>o=>a.forEach(d=>d(o));return t.$$set=a=>{"bounds"in a&&n(0,r=a.bounds)},[r,l,i,s,f,u]}class Ae extends T{constructor(e){super();U(this,e,Re,Pe,F,{bounds:0})}}function de(t){let e,n,r;function l(s){t[7](s)}let i={};return t[2]!==void 0&&(i.bounds=t[2]),e=new Ae({props:i}),G.push(()=>te(e,"bounds",l)),{c(){X(e.$$.fragment)},m(s,f){z(e,s,f),r=!0},p(s,f){const u={};!n&&f&4&&(n=!0,u.bounds=s[2],ee(()=>n=!1)),e.$set(u)},i(s){r||(E(e.$$.fragment,s),r=!0)},o(s){P(e.$$.fragment,s),r=!1},d(s){W(e,s)}}}function Oe(t){let e,n,r,l,i,s,f,u=t[2]&&de(t);return{c(){e=g("div"),n=g("img"),l=w(),u&&u.c(),ae(n.src,r=t[0])||m(n,"src",r),m(n,"class","svelte-16apt3o"),m(e,"class","editor svelte-16apt3o")},m(a,o){A(a,e,o),c(e,n),t[6](n),c(e,l),u&&u.m(e,null),i=!0,s||(f=q(C.call(null,e,{onStart:t[3],onDrag:t[4]})),s=!0)},p(a,[o]){(!i||o&1&&!ae(n.src,r=a[0]))&&m(n,"src",r),a[2]?u?(u.p(a,o),o&4&&E(u,1)):(u=de(a),u.c(),E(u,1),u.m(e,null)):u&&(ce(),P(u,1,1,()=>{u=null}),fe())},i(a){i||(E(u),i=!0)},o(a){P(u),i=!1},d(a){a&&B(e),t[6](null),u&&u.d(),s=!1,f()}}}function je(t,e,n){let{src:r}=e,{bounds:l}=e,i,s;ke(()=>{l&&n(2,s=f(l))});function f(p){const v=i.width/i.naturalWidth,L=i.height/i.naturalHeight;return{x:p.x*v,y:p.y*L,w:p.w*v,h:p.h*L}}function u(p){const v=i.naturalWidth/i.width,L=i.naturalHeight/i.height;return{x:p.x*v,y:p.y*L,w:p.w*v,h:p.h*L}}function a(p){n(2,s=V(Q({},p),{w:0,h:0}))}function o(p){n(2,s=V(Q({},s),{w:s.w+p.dx,h:s.h+p.dy}))}function d(p){G[p?"unshift":"push"](()=>{i=p,n(1,i)})}function _(p){s=p,n(2,s)}return t.$$set=p=>{"src"in p&&n(0,r=p.src),"bounds"in p&&n(5,l=p.bounds)},t.$$.update=()=>{t.$$.dirty&38&&l&&i&&n(5,l=u(s))},[r,i,s,a,o,l,d,_]}class Be extends T{constructor(e){super();U(this,e,je,Oe,F,{src:0,bounds:5})}}function Me(t,e){const n=t.getContext("2d");return e(n,t),{destroy(){},update(r){n.clearRect(0,0,t.width,t.height),r(n,t)}}}function pe(t){let e,n,r,l;return{c(){e=g("canvas"),oe(e,"max-width","100%")},m(i,s){A(i,e,s),r||(l=q(n=Me.call(null,e,t[1])),r=!0)},p(i,s){n&&Le(n.update)&&s&2&&n.update.call(null,i[1])},d(i){i&&B(e),r=!1,l()}}}function Ne(t){let e,n=t[0]&&pe(t);return{c(){n&&n.c(),e=qe()},m(r,l){n&&n.m(r,l),A(r,e,l)},p(r,[l]){r[0]?n?n.p(r,l):(n=pe(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:j,o:j,d(r){n&&n.d(r),r&&B(e)}}}function Te(t,e,n){let r,{src:l}=e,{mirrors:i}=e,{bounds:s}=e,f;return t.$$set=u=>{"src"in u&&n(2,l=u.src),"mirrors"in u&&n(3,i=u.mirrors),"bounds"in u&&n(0,s=u.bounds)},t.$$.update=()=>{t.$$.dirty&4&&(n(4,f=new Image),n(4,f.src=l,f)),t.$$.dirty&25&&n(1,r=(u,a)=>{a.width=i*s.w-i,a.height=s.h;for(let o=0;o<i;o++)o%2==0?u.drawImage(f,s.x,s.y,s.w,s.h,o*s.w-o,0,s.w,s.h):(u.save(),u.translate((o+1)*s.w,0),u.scale(-1,1),u.drawImage(f,s.x,s.y,s.w,s.h,o,0,s.w,s.h),u.restore())})},[s,r,l,i,f]}class Ue extends T{constructor(e){super();U(this,e,Te,Ne,F,{src:2,mirrors:3,bounds:0})}}function me(t){let e,n,r,l,i,s,f,u,a,o,d,_,p,v,L,b,M,y,R,I,N,k,S,Y,re;function ge(h){t[4](h)}let se={src:t[0]};return t[1]!==void 0&&(se.bounds=t[1]),i=new Be({props:se}),G.push(()=>te(i,"bounds",ge)),y=new Ue({props:{src:t[0],mirrors:t[2],bounds:t[1]}}),{c(){e=g("div"),n=g("div"),r=g("h1"),r.textContent="2. Pick Area",l=w(),X(i.$$.fragment),f=w(),u=g("div"),a=g("h1"),a.textContent="3. Mirror",o=w(),d=g("div"),_=g("label"),_.textContent="How many mirrored images?",p=w(),v=g("input"),L=w(),b=g("input"),M=w(),X(y.$$.fragment),R=w(),I=g("h1"),I.textContent="4. Save it!",N=w(),k=g("p"),k.textContent="Right click the image and copy or save it!",m(r,"class","svelte-13qxnq6"),m(n,"class","svelte-13qxnq6"),m(a,"class","svelte-13qxnq6"),m(_,"for","mirrors"),m(v,"type","range"),m(v,"min","2"),m(b,"id","mirrors"),m(b,"type","number"),m(b,"min","2"),m(I,"class","svelte-13qxnq6"),m(u,"class","svelte-13qxnq6"),m(e,"class","hsplit svelte-13qxnq6")},m(h,D){A(h,e,D),c(e,n),c(n,r),c(n,l),z(i,n,null),c(e,f),c(e,u),c(u,a),c(u,o),c(u,d),c(d,_),c(d,p),c(d,v),K(v,t[2]),c(d,L),c(d,b),K(b,t[2]),c(u,M),z(y,u,null),c(u,R),c(u,I),c(u,N),c(u,k),S=!0,Y||(re=[O(v,"change",t[5]),O(v,"input",t[5]),O(b,"input",t[6])],Y=!0)},p(h,D){const J={};D&1&&(J.src=h[0]),!s&&D&2&&(s=!0,J.bounds=h[1],ee(()=>s=!1)),i.$set(J),D&4&&K(v,h[2]),D&4&&ne(b.value)!==h[2]&&K(b,h[2]);const H={};D&1&&(H.src=h[0]),D&4&&(H.mirrors=h[2]),D&2&&(H.bounds=h[1]),y.$set(H)},i(h){S||(E(i.$$.fragment,h),E(y.$$.fragment,h),S=!0)},o(h){P(i.$$.fragment,h),P(y.$$.fragment,h),S=!1},d(h){h&&B(e),W(i),W(y),Y=!1,$(re)}}}function Fe(t){let e,n,r,l,i,s,f;function u(d){t[3](d)}let a={};t[0]!==void 0&&(a.src=t[0]),l=new Ie({props:a}),G.push(()=>te(l,"src",u));let o=t[0]&&me(t);return{c(){e=g("main"),n=g("h1"),n.textContent="1. Pick an image",r=w(),X(l.$$.fragment),s=w(),o&&o.c(),m(n,"class","svelte-13qxnq6"),m(e,"class","svelte-13qxnq6")},m(d,_){A(d,e,_),c(e,n),c(e,r),z(l,e,null),c(e,s),o&&o.m(e,null),f=!0},p(d,[_]){const p={};!i&&_&1&&(i=!0,p.src=d[0],ee(()=>i=!1)),l.$set(p),d[0]?o?(o.p(d,_),_&1&&E(o,1)):(o=me(d),o.c(),E(o,1),o.m(e,null)):o&&(ce(),P(o,1,1,()=>{o=null}),fe())},i(d){f||(E(l.$$.fragment,d),E(o),f=!0)},o(d){P(l.$$.fragment,d),P(o),f=!1},d(d){d&&B(e),W(l),o&&o.d()}}}function He(t,e,n){let r=null,l={x:20,y:30,w:50,h:80},i=10;function s(o){r=o,n(0,r)}function f(o){l=o,n(1,l)}function u(){i=ne(this.value),n(2,i)}function a(){i=ne(this.value),n(2,i)}return t.$$.update=()=>{t.$$.dirty&1&&console.log(r)},[r,l,i,s,f,u,a]}class Xe extends T{constructor(e){super();U(this,e,He,Fe,F,{})}}new Xe({target:document.getElementById("app")});
